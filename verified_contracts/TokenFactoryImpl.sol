/*
  Copyright 2017 Loopring Project Ltd (Loopring Foundation).
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
pragma solidity 0.4.21;
/// @title Utility Functions for address
/// @author Kongliang Zhong - <<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="016a6e6f666d68606f66416d6e6e7173686f662f6e7366">[email protected]</a>&gt;&#13;
library StringUtil {&#13;
    function stringToBytes12(string str)&#13;
        internal&#13;
        pure&#13;
        returns (bytes12 result)&#13;
    {&#13;
        assembly {&#13;
            result := mload(add(str, 32))&#13;
        }&#13;
    }&#13;
    function stringToBytes10(string str)&#13;
        internal&#13;
        pure&#13;
        returns (bytes10 result)&#13;
    {&#13;
        assembly {&#13;
            result := mload(add(str, 32))&#13;
        }&#13;
    }&#13;
    /// check length &gt;= min &amp;&amp; &lt;= max&#13;
    function checkStringLength(string name, uint min, uint max)&#13;
        internal&#13;
        pure&#13;
        returns (bool)&#13;
    {&#13;
        bytes memory temp = bytes(name);&#13;
        return temp.length &gt;= min &amp;&amp; temp.length &lt;= max;&#13;
    }&#13;
}&#13;
/*&#13;
  Copyright 2017 Loopring Project Ltd (Loopring Foundation).&#13;
  Licensed under the Apache License, Version 2.0 (the "License");&#13;
  you may not use this file except in compliance with the License.&#13;
  You may obtain a copy of the License at&#13;
  http://www.apache.org/licenses/LICENSE-2.0&#13;
  Unless required by applicable law or agreed to in writing, software&#13;
  distributed under the License is distributed on an "AS IS" BASIS,&#13;
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#13;
  See the License for the specific language governing permissions and&#13;
  limitations under the License.&#13;
*/&#13;
/// @title Utility Functions for address&#13;
/// @author Daniel Wang - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="690d0807000c0529050606191b00070e47061b0e">[email protected]</a>&gt;&#13;
library AddressUtil {&#13;
    function isContract(&#13;
        address addr&#13;
        )&#13;
        internal&#13;
        view&#13;
        returns (bool)&#13;
    {&#13;
        if (addr == 0x0) {&#13;
            return false;&#13;
        } else {&#13;
            uint size;&#13;
            assembly { size := extcodesize(addr) }&#13;
            return size &gt; 0;&#13;
        }&#13;
    }&#13;
}&#13;
/*&#13;
  Copyright 2017 Loopring Project Ltd (Loopring Foundation).&#13;
  Licensed under the Apache License, Version 2.0 (the "License");&#13;
  you may not use this file except in compliance with the License.&#13;
  You may obtain a copy of the License at&#13;
  http://www.apache.org/licenses/LICENSE-2.0&#13;
  Unless required by applicable law or agreed to in writing, software&#13;
  distributed under the License is distributed on an "AS IS" BASIS,&#13;
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#13;
  See the License for the specific language governing permissions and&#13;
  limitations under the License.&#13;
*/&#13;
/*&#13;
    Copyright 2017 Loopring Project Ltd (Loopring Foundation).&#13;
    Licensed under the Apache License, Version 2.0 (the "License");&#13;
    you may not use this file except in compliance with the License.&#13;
    You may obtain a copy of the License at&#13;
    http://www.apache.org/licenses/LICENSE-2.0&#13;
    Unless required by applicable law or agreed to in writing, software&#13;
    distributed under the License is distributed on an "AS IS" BASIS,&#13;
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#13;
    See the License for the specific language governing permissions and&#13;
    limitations under the License.&#13;
*/&#13;
/*&#13;
  Copyright 2017 Loopring Project Ltd (Loopring Foundation).&#13;
  Licensed under the Apache License, Version 2.0 (the "License");&#13;
  you may not use this file except in compliance with the License.&#13;
  You may obtain a copy of the License at&#13;
  http://www.apache.org/licenses/LICENSE-2.0&#13;
  Unless required by applicable law or agreed to in writing, software&#13;
  distributed under the License is distributed on an "AS IS" BASIS,&#13;
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#13;
  See the License for the specific language governing permissions and&#13;
  limitations under the License.&#13;
*/&#13;
/// @title ERC20 Token Interface&#13;
/// @dev see https://github.com/ethereum/EIPs/issues/20&#13;
/// @author Daniel Wang - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d3b7b2bdbab6bf93bfbcbca3a1babdb4fdbca1b4">[email protected]</a>&gt;&#13;
contract ERC20 {&#13;
    function balanceOf(&#13;
        address who&#13;
        )&#13;
        view&#13;
        public&#13;
        returns (uint256);&#13;
    function allowance(&#13;
        address owner,&#13;
        address spender&#13;
        )&#13;
        view&#13;
        public&#13;
        returns (uint256);&#13;
    function transfer(&#13;
        address to,&#13;
        uint256 value&#13;
        )&#13;
        public&#13;
        returns (bool);&#13;
    function transferFrom(&#13;
        address from,&#13;
        address to,&#13;
        uint256 value&#13;
        )&#13;
        public&#13;
        returns (bool);&#13;
    function approve(&#13;
        address spender,&#13;
        uint256 value&#13;
        )&#13;
        public&#13;
        returns (bool);&#13;
}&#13;
/*&#13;
  Copyright 2017 Loopring Project Ltd (Loopring Foundation).&#13;
  Licensed under the Apache License, Version 2.0 (the "License");&#13;
  you may not use this file except in compliance with the License.&#13;
  You may obtain a copy of the License at&#13;
  http://www.apache.org/licenses/LICENSE-2.0&#13;
  Unless required by applicable law or agreed to in writing, software&#13;
  distributed under the License is distributed on an "AS IS" BASIS,&#13;
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#13;
  See the License for the specific language governing permissions and&#13;
  limitations under the License.&#13;
*/&#13;
/// @title Utility Functions for uint&#13;
/// @author Daniel Wang - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="177376797e727b577b787867657e797039786570">[email protected]</a>&gt;&#13;
library MathUint {&#13;
    function mul(&#13;
        uint a,&#13;
        uint b&#13;
        )&#13;
        internal&#13;
        pure&#13;
        returns (uint c)&#13;
    {&#13;
        c = a * b;&#13;
        require(a == 0 || c / a == b);&#13;
    }&#13;
    function sub(&#13;
        uint a,&#13;
        uint b&#13;
        )&#13;
        internal&#13;
        pure&#13;
        returns (uint)&#13;
    {&#13;
        require(b &lt;= a);&#13;
        return a - b;&#13;
    }&#13;
    function add(&#13;
        uint a,&#13;
        uint b&#13;
        )&#13;
        internal&#13;
        pure&#13;
        returns (uint c)&#13;
    {&#13;
        c = a + b;&#13;
        require(c &gt;= a);&#13;
    }&#13;
    function tolerantSub(&#13;
        uint a,&#13;
        uint b&#13;
        )&#13;
        internal&#13;
        pure&#13;
        returns (uint c)&#13;
    {&#13;
        return (a &gt;= b) ? a - b : 0;&#13;
    }&#13;
    /// @dev calculate the square of Coefficient of Variation (CV)&#13;
    /// https://en.wikipedia.org/wiki/Coefficient_of_variation&#13;
    function cvsquare(&#13;
        uint[] arr,&#13;
        uint scale&#13;
        )&#13;
        internal&#13;
        pure&#13;
        returns (uint)&#13;
    {&#13;
        uint len = arr.length;&#13;
        require(len &gt; 1);&#13;
        require(scale &gt; 0);&#13;
        uint avg = 0;&#13;
        for (uint i = 0; i &lt; len; i++) {&#13;
            avg += arr[i];&#13;
        }&#13;
        avg = avg / len;&#13;
        if (avg == 0) {&#13;
            return 0;&#13;
        }&#13;
        uint cvs = 0;&#13;
        uint s;&#13;
        uint item;&#13;
        for (i = 0; i &lt; len; i++) {&#13;
            item = arr[i];&#13;
            s = item &gt; avg ? item - avg : avg - item;&#13;
            cvs += mul(s, s);&#13;
        }&#13;
        return ((mul(mul(cvs, scale), scale) / avg) / avg) / (len - 1);&#13;
    }&#13;
}&#13;
/// @title ERC20 Token Implementation&#13;
/// @dev see https://github.com/ethereum/EIPs/issues/20&#13;
/// @author Daniel Wang - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bcd8ddd2d5d9d0fcd0d3d3ccced5d2db92d3cedb">[email protected]</a>&gt;&#13;
contract ERC20Token is ERC20 {&#13;
    using MathUint for uint;&#13;
    string  public name;&#13;
    string  public symbol;&#13;
    uint8   public decimals;&#13;
    uint    public totalSupply_;&#13;
    mapping (address =&gt; uint256) balances;&#13;
    mapping (address =&gt; mapping (address =&gt; uint256)) internal allowed;&#13;
    event Transfer(address indexed from, address indexed to, uint256 value);&#13;
    event Approval(address indexed owner, address indexed spender, uint256 value);&#13;
    function ERC20Token(&#13;
        string  _name,&#13;
        string  _symbol,&#13;
        uint8   _decimals,&#13;
        uint    _totalSupply,&#13;
        address _firstHolder&#13;
        )&#13;
        public&#13;
    {&#13;
        require(_totalSupply &gt; 0);&#13;
        require(_firstHolder != 0x0);&#13;
        checkSymbolAndName(_symbol,_name);&#13;
        name = _name;&#13;
        symbol = _symbol;&#13;
        decimals = _decimals;&#13;
        totalSupply_ = _totalSupply;&#13;
        balances[_firstHolder] = totalSupply_;&#13;
    }&#13;
    function ()&#13;
        payable&#13;
        public&#13;
    {&#13;
        revert();&#13;
    }&#13;
    /**&#13;
    * @dev total number of tokens in existence&#13;
    */&#13;
    function totalSupply()&#13;
        public&#13;
        view&#13;
        returns (uint256)&#13;
    {&#13;
        return totalSupply_;&#13;
    }&#13;
    /**&#13;
    * @dev transfer token for a specified address&#13;
    * @param _to The address to transfer to.&#13;
    * @param _value The amount to be transferred.&#13;
    */&#13;
    function transfer(&#13;
        address _to,&#13;
        uint256 _value&#13;
        )&#13;
        public&#13;
        returns (bool)&#13;
    {&#13;
        require(_to != address(0));&#13;
        require(_value &lt;= balances[msg.sender]);&#13;
        // SafeMath.sub will throw if there is not enough balance.&#13;
        balances[msg.sender] = balances[msg.sender].sub(_value);&#13;
        balances[_to] = balances[_to].add(_value);&#13;
        emit Transfer(msg.sender, _to, _value);&#13;
        return true;&#13;
    }&#13;
    /**&#13;
    * @dev Gets the balance of the specified address.&#13;
    * @param _owner The address to query the the balance of.&#13;
    * @return An uint256 representing the amount owned by the passed address.&#13;
    */&#13;
    function balanceOf(&#13;
        address _owner&#13;
        )&#13;
        public&#13;
        view&#13;
        returns (uint256 balance)&#13;
    {&#13;
        return balances[_owner];&#13;
    }&#13;
    /**&#13;
     * @dev Transfer tokens from one address to another&#13;
     * @param _from address The address which you want to send tokens from&#13;
     * @param _to address The address which you want to transfer to&#13;
     * @param _value uint256 the amount of tokens to be transferred&#13;
     */&#13;
    function transferFrom(&#13;
        address _from,&#13;
        address _to,&#13;
        uint256 _value&#13;
        )&#13;
        public&#13;
        returns (bool)&#13;
    {&#13;
        require(_to != address(0));&#13;
        require(_value &lt;= balances[_from]);&#13;
        require(_value &lt;= allowed[_from][msg.sender]);&#13;
        balances[_from] = balances[_from].sub(_value);&#13;
        balances[_to] = balances[_to].add(_value);&#13;
        allowed[_from][msg.sender] = allowed[_from][msg.sender].sub(_value);&#13;
        emit Transfer(_from, _to, _value);&#13;
        return true;&#13;
    }&#13;
    /**&#13;
     * @dev Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.&#13;
     *&#13;
     * Beware that changing an allowance with this method brings the risk that someone may use both the old&#13;
     * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this&#13;
     * race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards:&#13;
     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729&#13;
     * @param _spender The address which will spend the funds.&#13;
     * @param _value The amount of tokens to be spent.&#13;
     */&#13;
    function approve(&#13;
        address _spender,&#13;
        uint256 _value&#13;
        )&#13;
        public&#13;
        returns (bool)&#13;
    {&#13;
        allowed[msg.sender][_spender] = _value;&#13;
        emit Approval(msg.sender, _spender, _value);&#13;
        return true;&#13;
    }&#13;
    /**&#13;
     * @dev Function to check the amount of tokens that an owner allowed to a spender.&#13;
     * @param _owner address The address which owns the funds.&#13;
     * @param _spender address The address which will spend the funds.&#13;
     * @return A uint256 specifying the amount of tokens still available for the spender.&#13;
     */&#13;
    function allowance(&#13;
        address _owner,&#13;
        address _spender&#13;
        )&#13;
        public&#13;
        view&#13;
        returns (uint256)&#13;
    {&#13;
        return allowed[_owner][_spender];&#13;
    }&#13;
    /**&#13;
     * @dev Increase the amount of tokens that an owner allowed to a spender.&#13;
     *&#13;
     * approve should be called when allowed[_spender] == 0. To increment&#13;
     * allowed value is better to use this function to avoid 2 calls (and wait until&#13;
     * the first transaction is mined)&#13;
     * From MonolithDAO Token.sol&#13;
     * @param _spender The address which will spend the funds.&#13;
     * @param _addedValue The amount of tokens to increase the allowance by.&#13;
     */&#13;
    function increaseApproval(&#13;
        address _spender,&#13;
        uint _addedValue&#13;
        )&#13;
        public&#13;
        returns (bool)&#13;
    {&#13;
        allowed[msg.sender][_spender] = allowed[msg.sender][_spender].add(_addedValue);&#13;
        emit Approval(msg.sender, _spender, allowed[msg.sender][_spender]);&#13;
        return true;&#13;
    }&#13;
    /**&#13;
     * @dev Decrease the amount of tokens that an owner allowed to a spender.&#13;
     *&#13;
     * approve should be called when allowed[_spender] == 0. To decrement&#13;
     * allowed value is better to use this function to avoid 2 calls (and wait until&#13;
     * the first transaction is mined)&#13;
     * From MonolithDAO Token.sol&#13;
     * @param _spender The address which will spend the funds.&#13;
     * @param _subtractedValue The amount of tokens to decrease the allowance by.&#13;
     */&#13;
    function decreaseApproval(&#13;
        address _spender,&#13;
        uint _subtractedValue&#13;
        )&#13;
        public&#13;
        returns (bool)&#13;
    {&#13;
        uint oldValue = allowed[msg.sender][_spender];&#13;
        if (_subtractedValue &gt; oldValue) {&#13;
            allowed[msg.sender][_spender] = 0;&#13;
        } else {&#13;
            allowed[msg.sender][_spender] = oldValue.sub(_subtractedValue);&#13;
        }&#13;
        emit Approval(msg.sender, _spender, allowed[msg.sender][_spender]);&#13;
        return true;&#13;
    }&#13;
    // Make sure symbol has 3-8 chars in [A-Za-z._] and name has up to 128 chars.&#13;
    function checkSymbolAndName(&#13;
        string memory _symbol,&#13;
        string memory _name&#13;
        )&#13;
        internal&#13;
        pure&#13;
    {&#13;
        bytes memory s = bytes(_symbol);&#13;
        require(s.length &gt;= 3 &amp;&amp; s.length &lt;= 8);&#13;
        for (uint i = 0; i &lt; s.length; i++) {&#13;
            require(&#13;
                s[i] == 0x2E ||  // "."&#13;
                s[i] == 0x5F ||  // "_"&#13;
                s[i] &gt;= 0x41 &amp;&amp; s[i] &lt;= 0x5A ||  // [A-Z]&#13;
                s[i] &gt;= 0x61 &amp;&amp; s[i] &lt;= 0x7A     // [a-z]&#13;
            );&#13;
        }&#13;
        bytes memory n = bytes(_name);&#13;
        require(n.length &gt;= s.length &amp;&amp; n.length &lt;= 128);&#13;
        for (i = 0; i &lt; n.length; i++) {&#13;
            require(n[i] &gt;= 0x20 &amp;&amp; n[i] &lt;= 0x7E);&#13;
        }&#13;
    }&#13;
}&#13;
/*&#13;
  Copyright 2017 Loopring Project Ltd (Loopring Foundation).&#13;
  Licensed under the Apache License, Version 2.0 (the "License");&#13;
  you may not use this file except in compliance with the License.&#13;
  You may obtain a copy of the License at&#13;
  http://www.apache.org/licenses/LICENSE-2.0&#13;
  Unless required by applicable law or agreed to in writing, software&#13;
  distributed under the License is distributed on an "AS IS" BASIS,&#13;
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#13;
  See the License for the specific language governing permissions and&#13;
  limitations under the License.&#13;
*/&#13;
/// @title ERC20 Token Mint&#13;
/// @dev This contract deploys ERC20 token contract and registered the contract&#13;
///      so the token can be traded with Loopring Protocol.&#13;
/// @author Kongliang Zhong - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="294246474e454048474e69454646595b40474e07465b4e">[email protected]</a>&gt;,&#13;
/// @author Daniel Wang - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="365257585f535a765a595946445f585118594451">[email protected]</a>&gt;.&#13;
contract TokenFactory {&#13;
    event TokenCreated(&#13;
        address indexed addr,&#13;
        string  name,&#13;
        string  symbol,&#13;
        uint8   decimals,&#13;
        uint    totalSupply,&#13;
        address firstHolder&#13;
    );&#13;
    /// @dev Deploy an ERC20 token contract, register it with TokenRegistry,&#13;
    ///      and returns the new token's address.&#13;
    /// @param name The name of the token&#13;
    /// @param symbol The symbol of the token.&#13;
    /// @param decimals The decimals of the token.&#13;
    /// @param totalSupply The total supply of the token.&#13;
    function createToken(&#13;
        string  name,&#13;
        string  symbol,&#13;
        uint8   decimals,&#13;
        uint    totalSupply&#13;
        )&#13;
        external&#13;
        returns (address addr);&#13;
}&#13;
/*&#13;
  Copyright 2017 Loopring Project Ltd (Loopring Foundation).&#13;
  Licensed under the Apache License, Version 2.0 (the "License");&#13;
  you may not use this file except in compliance with the License.&#13;
  You may obtain a copy of the License at&#13;
  http://www.apache.org/licenses/LICENSE-2.0&#13;
  Unless required by applicable law or agreed to in writing, software&#13;
  distributed under the License is distributed on an "AS IS" BASIS,&#13;
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.&#13;
  See the License for the specific language governing permissions and&#13;
  limitations under the License.&#13;
*/&#13;
/// @title Token Register Contract&#13;
/// @dev This contract maintains a list of tokens the Protocol supports.&#13;
/// @author Kongliang Zhong - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="284347464f444149464f68444747585a41464f06475a4f">[email protected]</a>&gt;,&#13;
/// @author Daniel Wang - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="187c7976717d7458747777686a71767f36776a7f">[email protected]</a>&gt;.&#13;
contract TokenRegistry {&#13;
    event TokenRegistered(address addr, string symbol);&#13;
    event TokenUnregistered(address addr, string symbol);&#13;
    function registerToken(&#13;
        address addr,&#13;
        string  symbol&#13;
        )&#13;
        external;&#13;
    function registerMintedToken(&#13;
        address addr,&#13;
        string  symbol&#13;
        )&#13;
        external;&#13;
    function unregisterToken(&#13;
        address addr,&#13;
        string  symbol&#13;
        )&#13;
        external;&#13;
    function areAllTokensRegistered(&#13;
        address[] addressList&#13;
        )&#13;
        external&#13;
        view&#13;
        returns (bool);&#13;
    function getAddressBySymbol(&#13;
        string symbol&#13;
        )&#13;
        external&#13;
        view&#13;
        returns (address);&#13;
    function isTokenRegisteredBySymbol(&#13;
        string symbol&#13;
        )&#13;
        public&#13;
        view&#13;
        returns (bool);&#13;
    function isTokenRegistered(&#13;
        address addr&#13;
        )&#13;
        public&#13;
        view&#13;
        returns (bool);&#13;
    function getTokens(&#13;
        uint start,&#13;
        uint count&#13;
        )&#13;
        public&#13;
        view&#13;
        returns (address[] addressList);&#13;
}&#13;
/// @title An Implementation of TokenFactory.&#13;
/// @author Kongliang Zhong - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b5dedadbd2d9dcd4dbd2f5d9dadac5c7dcdbd29bdac7d2">[email protected]</a>&gt;,&#13;
/// @author Daniel Wang - &lt;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9afefbf4f3fff6daf6f5f5eae8f3f4fdb4f5e8fd">[email protected]</a>&gt;.&#13;
contract TokenFactoryImpl is TokenFactory {&#13;
    using AddressUtil for address;&#13;
    using StringUtil for string;&#13;
    mapping(bytes10 =&gt; address) public tokens;&#13;
    address   public tokenRegistry;&#13;
    address   public tokenTransferDelegate;&#13;
    /// @dev Disable default function.&#13;
    function ()&#13;
        payable&#13;
        public&#13;
    {&#13;
        revert();&#13;
    }&#13;
    function TokenFactoryImpl(&#13;
        address _tokenRegistry&#13;
        )&#13;
        public&#13;
    {&#13;
        require(tokenRegistry == 0x0 &amp;&amp; _tokenRegistry.isContract());&#13;
        tokenRegistry = _tokenRegistry;&#13;
    }&#13;
    function createToken(&#13;
        string  name,&#13;
        string  symbol,&#13;
        uint8   decimals,&#13;
        uint    totalSupply&#13;
        )&#13;
        external&#13;
        returns (address addr)&#13;
    {&#13;
        require(tokenRegistry != 0x0);&#13;
        require(tokenTransferDelegate != 0x0);&#13;
        require(symbol.checkStringLength(3, 10));&#13;
        bytes10 symbolBytes = symbol.stringToBytes10();&#13;
        require(tokens[symbolBytes] == 0x0);&#13;
        ERC20Token token = new ERC20Token(&#13;
            name,&#13;
            symbol,&#13;
            decimals,&#13;
            totalSupply,&#13;
            tx.origin&#13;
        );&#13;
        addr = address(token);&#13;
        TokenRegistry(tokenRegistry).registerMintedToken(addr, symbol);&#13;
        tokens[symbolBytes] = addr;&#13;
        emit TokenCreated(&#13;
            addr,&#13;
            name,&#13;
            symbol,&#13;
            decimals,&#13;
            totalSupply,&#13;
            tx.origin&#13;
        );&#13;
    }&#13;
}